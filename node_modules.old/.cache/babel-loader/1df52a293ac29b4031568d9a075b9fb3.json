{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/randyadams/notes-app-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nfunction serializerMiddleware(options, serializer) {\n  var _this = this;\n\n  return function (next) {\n    return function (args) {\n      return tslib_1.__awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var endpointResolvedOptions, request;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.t0 = Object;\n                _context.t1 = Object.assign({}, options);\n                _context.next = 4;\n                return options.endpoint();\n\n              case 4:\n                _context.t2 = _context.sent;\n                _context.t3 = {\n                  endpoint: _context.t2\n                };\n                endpointResolvedOptions = _context.t0.assign.call(_context.t0, _context.t1, _context.t3);\n                _context.next = 9;\n                return serializer(args.input, endpointResolvedOptions);\n\n              case 9:\n                request = _context.sent;\n                return _context.abrupt(\"return\", next(Object.assign(Object.assign({}, args), {\n                  request: request\n                })));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    };\n  };\n}\n\nexports.serializerMiddleware = serializerMiddleware;","map":{"version":3,"sources":["../src/serializerMiddleware.ts"],"names":[],"mappings":";;;;;;;;;;AASA,SAAgB,oBAAhB,CAKE,OALF,EAME,UANF,EAMkD;AAAA;;AAEhD,SAAO,UACL,IADK;AAAA,WAE+B,UACpC,IADoC;AAAA,aAEO,OAAA,CAAA,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,wCAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BACd,MADc;AAAA,8BACd,MAAA,CAAA,MAAA,CAAA,EAAA,EACxB,OADwB,CADc;AAAA;AAG/B,uBAAM,OAAO,CAAC,QAAR,EAAN;;AAH+B;AAAA;AAAA;AAGzC,kBAAA,QAHyC;AAAA;AACrC,gBAAA,uBADqC,eACd,MADc;AAAA;AAK3B,uBAAM,UAAU,CAAC,IAAI,CAAC,KAAN,EAAa,uBAAb,CAAhB;;AAL2B;AAKrC,gBAAA,OALqC;AAAA,iDAMpC,IAAI,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACN,IADM,CAAA,EACF;AACP,kBAAA,OAAO,EAAP;AADO,iBADE,CAAA,CANgC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA,EAFP;AAAA,KAF/B;AAAA,GAAP;AAeD;;AAvBD,OAAA,CAAA,oBAAA,GAAA,oBAAA","sourcesContent":["import {\n  RequestSerializer,\n  SerializeHandler,\n  SerializeHandlerArguments,\n  SerializeHandlerOutput,\n  SerializeMiddleware,\n  EndpointBearer\n} from \"@aws-sdk/types\";\n\nexport function serializerMiddleware<\n  Input extends object,\n  Output extends object,\n  RuntimeUtils extends EndpointBearer\n>(\n  options: RuntimeUtils,\n  serializer: RequestSerializer<any, RuntimeUtils>\n): SerializeMiddleware<Input, Output> {\n  return (\n    next: SerializeHandler<Input, Output>\n  ): SerializeHandler<Input, Output> => async (\n    args: SerializeHandlerArguments<Input>\n  ): Promise<SerializeHandlerOutput<Output>> => {\n    const endpointResolvedOptions = {\n      ...options,\n      endpoint: await options.endpoint()\n    };\n    const request = await serializer(args.input, endpointResolvedOptions);\n    return next({\n      ...args,\n      request\n    });\n  };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}