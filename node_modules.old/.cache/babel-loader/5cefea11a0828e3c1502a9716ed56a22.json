{"ast":null,"code":"function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport UserAgent from './UserAgent';\n\nvar CognitoError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(CognitoError, _Error);\n\n  function CognitoError(message, code, name, statusCode) {\n    var _this;\n\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.name = name;\n    _this.statusCode = statusCode;\n    return _this;\n  }\n\n  return CognitoError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/** @class */\n\n\nvar Client = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   */\n  function Client(region, endpoint) {\n    this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @returns Promise<object>\n   */\n\n\n  var _proto = Client.prototype;\n\n  _proto.promisifyRequest = function promisifyRequest(operation, params) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this2.request(operation, params, function (err, data) {\n        if (err) {\n          reject(new CognitoError(err.message, err.code, err.name, err.statusCode));\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */\n  ;\n\n  _proto.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n      'X-Amz-User-Agent': UserAgent.prototype.userAgent\n    };\n    var options = {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    };\n    var response;\n    var responseJsonData;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n\n      throw err;\n    }).then(function (resp) {\n      return resp.json()[\"catch\"](function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data; // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n\n      var code = (data.__type || data.code).split('#').pop();\n      var error = {\n        code: code,\n        name: code,\n        message: data.message || data.Message || null\n      };\n      return callback(error);\n    })[\"catch\"](function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = {\n            code: code,\n            name: code,\n            statusCode: response.status,\n            message: response.status ? response.status.toString() : null\n          };\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        } // otherwise check if error is Network error\n\n      } else if (err instanceof Error && err.message === 'Network error') {\n        var _error = {\n          code: 'NetworkError',\n          name: err.name,\n          message: err.message\n        };\n        return callback(_error);\n      } else {\n        return callback(err);\n      }\n    });\n  };\n\n  return Client;\n}();\n\nexport { Client as default };","map":{"version":3,"sources":["/Users/randyadams/notes-app-client/node_modules/amazon-cognito-identity-js/es/Client.js"],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","_wrapNativeSuper","Class","_cache","Map","undefined","_isNativeFunction","TypeError","has","get","set","Wrapper","_construct","arguments","_getPrototypeOf","value","enumerable","writable","configurable","_setPrototypeOf","Parent","args","_isNativeReflectConstruct","Reflect","construct","a","push","apply","Constructor","Function","bind","instance","sham","Proxy","Date","toString","call","e","fn","indexOf","o","p","setPrototypeOf","getPrototypeOf","UserAgent","CognitoError","_Error","message","code","name","statusCode","_this","Error","Client","region","endpoint","_proto","promisifyRequest","operation","params","_this2","Promise","resolve","reject","request","err","data","callback","headers","userAgent","options","method","mode","cache","body","JSON","stringify","response","responseJsonData","fetch","then","resp","json","ok","__type","split","pop","error","Message","status","ex","_error","default"],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport UserAgent from './UserAgent';\n\nvar CognitoError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(CognitoError, _Error);\n\n  function CognitoError(message, code, name, statusCode) {\n    var _this;\n\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.name = name;\n    _this.statusCode = statusCode;\n    return _this;\n  }\n\n  return CognitoError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/** @class */\n\n\nvar Client = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   */\n  function Client(region, endpoint) {\n    this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @returns Promise<object>\n   */\n\n\n  var _proto = Client.prototype;\n\n  _proto.promisifyRequest = function promisifyRequest(operation, params) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this2.request(operation, params, function (err, data) {\n        if (err) {\n          reject(new CognitoError(err.message, err.code, err.name, err.statusCode));\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */\n  ;\n\n  _proto.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n      'X-Amz-User-Agent': UserAgent.prototype.userAgent\n    };\n    var options = {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    };\n    var response;\n    var responseJsonData;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n\n      throw err;\n    }).then(function (resp) {\n      return resp.json()[\"catch\"](function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data; // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n\n      var code = (data.__type || data.code).split('#').pop();\n      var error = {\n        code: code,\n        name: code,\n        message: data.message || data.Message || null\n      };\n      return callback(error);\n    })[\"catch\"](function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = {\n            code: code,\n            name: code,\n            statusCode: response.status,\n            message: response.status ? response.status.toString() : null\n          };\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        } // otherwise check if error is Network error\n\n      } else if (err instanceof Error && err.message === 'Network error') {\n        var _error = {\n          code: 'NetworkError',\n          name: err.name,\n          message: err.message\n        };\n        return callback(_error);\n      } else {\n        return callback(err);\n      }\n    });\n  };\n\n  return Client;\n}();\n\nexport { Client as default };"]},"metadata":{},"sourceType":"module"}