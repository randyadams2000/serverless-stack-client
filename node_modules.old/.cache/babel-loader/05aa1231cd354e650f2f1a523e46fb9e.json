{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst tslib_1 = require(\"tslib\");\n\nfunction serializerMiddleware(options, serializer) {\n  return next => args => tslib_1.__awaiter(this, void 0, void 0, function* () {\n    const endpointResolvedOptions = Object.assign(Object.assign({}, options), {\n      endpoint: yield options.endpoint()\n    });\n    const request = yield serializer(args.input, endpointResolvedOptions);\n    return next(Object.assign(Object.assign({}, args), {\n      request\n    }));\n  });\n}\n\nexports.serializerMiddleware = serializerMiddleware;","map":{"version":3,"sources":["../src/serializerMiddleware.ts"],"names":[],"mappings":";;;;;;;;AASA,SAAgB,oBAAhB,CAKE,OALF,EAME,UANF,EAMkD;AAEhD,SACE,IADK,IAGL,IADoC,IAEO,OAAA,CAAA,SAAA,CAAA,IAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,aAAA;AAC3C,UAAM,uBAAuB,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACxB,OADwB,CAAA,EACjB;AACV,MAAA,QAAQ,EAAE,MAAM,OAAO,CAAC,QAAR;AADN,KADiB,CAA7B;AAIA,UAAM,OAAO,GAAG,MAAM,UAAU,CAAC,IAAI,CAAC,KAAN,EAAa,uBAAb,CAAhC;AACA,WAAO,IAAI,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACN,IADM,CAAA,EACF;AACP,MAAA;AADO,KADE,CAAA,CAAX;AAID,GAV4C,CAJ7C;AAeD;;AAvBD,OAAA,CAAA,oBAAA,GAAA,oBAAA","sourcesContent":["import {\n  RequestSerializer,\n  SerializeHandler,\n  SerializeHandlerArguments,\n  SerializeHandlerOutput,\n  SerializeMiddleware,\n  EndpointBearer\n} from \"@aws-sdk/types\";\n\nexport function serializerMiddleware<\n  Input extends object,\n  Output extends object,\n  RuntimeUtils extends EndpointBearer\n>(\n  options: RuntimeUtils,\n  serializer: RequestSerializer<any, RuntimeUtils>\n): SerializeMiddleware<Input, Output> {\n  return (\n    next: SerializeHandler<Input, Output>\n  ): SerializeHandler<Input, Output> => async (\n    args: SerializeHandlerArguments<Input>\n  ): Promise<SerializeHandlerOutput<Output>> => {\n    const endpointResolvedOptions = {\n      ...options,\n      endpoint: await options.endpoint()\n    };\n    const request = await serializer(args.input, endpointResolvedOptions);\n    return next({\n      ...args,\n      request\n    });\n  };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}